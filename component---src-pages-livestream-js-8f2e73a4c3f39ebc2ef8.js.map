{"version":3,"file":"component---src-pages-livestream-js-8f2e73a4c3f39ebc2ef8.js","mappings":"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","sources":["webpack://2022.satsummit.io/./src/utils/pluralize.js","webpack://2022.satsummit.io/./src/pages/livestream.js","webpack://2022.satsummit.io/./src/styles/blocks.js"],"sourcesContent":["// Inspired by https://github.com/tsmith123/react-pluralize\n// Adapted to remove wrapper.\n\nimport T from 'prop-types';\n\nexport const pluralize = ({ singular, plural, count, showCount, zero }) => {\n  if (count === 0 && zero) return zero;\n\n  let output = singular;\n  if (count !== 1) {\n    output = plural || `${singular}s`;\n  }\n\n  return showCount ? `${count} ${output}` : output;\n};\n\nconst Pluralize = (props) => pluralize(props);\n\nPluralize.propTypes = {\n  singular: T.string.isRequired,\n  plural: T.string,\n  count: T.number,\n  showCount: T.bool,\n  className: T.string,\n  style: T.object,\n  zero: T.string\n};\n\nPluralize.defaultProps = {\n  count: 1,\n  showCount: true,\n  zero: null\n};\n\nexport default Pluralize;\n","import { graphql, useStaticQuery } from 'gatsby';\nimport React from 'react';\nimport styled from 'styled-components';\n\nimport { media, multiply, themeVal } from '@devseed-ui/theme-provider';\n\nimport Layout from '$components/layout';\n\nimport {\n  PageMainContent,\n  PageMainHero,\n  PageMainHeroHeadline,\n  PageMainTitle\n} from '$styles/page';\n\nimport { BlockAlpha } from '$styles/blocks';\nimport { VarHeading, VarProse } from '$styles/variable-components';\n\nimport { variableGlsp } from '$styles/variable-utils';\nimport { time2Counter, useLive } from '$utils/use-live';\nimport Pluralize from '$utils/pluralize';\nimport { CollecticonCirclePlay } from '@devseed-ui/collecticons';\n\nconst LivestreamBlock = styled.div`\n  position: relative;\n  aspect-ratio: 16/9;\n  max-height: 44rem;\n  border-top: ${multiply(themeVal('layout.border'), 4)} solid\n    ${themeVal('color.secondary-500')};\n  margin-top: -${multiply(themeVal('layout.border'), 4)};\n\n  > * {\n    width: 100%;\n    height: 100%;\n    border: 0;\n  }\n`;\n\nconst LivestreamCountdown = styled.div`\n  position: absolute;\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: center;\n  align-items: center;\n  color: ${themeVal('color.surface')};\n  background: ${themeVal('color.primary')};\n  padding: ${variableGlsp()};\n`;\n\nconst LivestreamCountdownInner = styled.div`\n  position: relative;\n  display: flex;\n  flex-flow: column nowrap;\n  gap: ${variableGlsp()};\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n`;\n\nconst LivestreamCountdownTitle = styled(VarHeading).attrs({\n  as: 'h2',\n  size: 'medium'\n})`\n  position: absolute;\n  top: 0;\n  transform: translateY(-128%);\n\n  ${media.mediumUp`\n    transform: translateY(-200%);\n  `}\n`;\n\nconst LivestreamCountdownIllu = styled(CollecticonCirclePlay)`\n  position: absolute;\n  z-index: 1;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  pointer-events: none;\n  opacity: 0.08;\n  width: 64%;\n  height: 64%;\n`;\n\nconst Timer = styled.div`\n  display: flex;\n  flex-flow: row nowrap;\n  width: 100%;\n  justify-content: center;\n`;\n\nconst TimerBlock = styled.div`\n  flex: 0 1 12rem;\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst TimerBlockNumber = styled(VarHeading).attrs({\n  as: 'strong'\n})`\n  font-size: clamp(1.25rem, 12vw, 8rem);\n  line-height: 1;\n`;\n\nconst TimerBlockLabel = styled(VarProse).attrs({\n  as: 'p'\n})`\n  /* styled-component */\n`;\n\nconst LivestreamPage = () => {\n  const { talks } = useStaticQuery(graphql`\n    query {\n      talks: letter(slug: { in: \"livestream\" }) {\n        parent {\n          ... on MarkdownRemark {\n            html\n          }\n        }\n      }\n    }\n  `);\n\n  const { isLive, nextIn } = useLive();\n\n  const [h, m, s] = nextIn ? time2Counter(nextIn) : [];\n\n  return (\n    <Layout title='Livestream'>\n      <PageMainContent>\n        <PageMainHero>\n          <PageMainHeroHeadline>\n            <PageMainTitle>Livestream</PageMainTitle>\n          </PageMainHeroHeadline>\n        </PageMainHero>\n        <LivestreamBlock>\n          {isLive ? (\n            <iframe\n              src='https://player.restream.io/?token=efbb246f3bf94543885adaf970929981'\n              allow='autoplay'\n              allowFullScreen\n            />\n          ) : nextIn ? (\n            <LivestreamCountdown>\n              <LivestreamCountdownInner>\n                <LivestreamCountdownTitle>Live in</LivestreamCountdownTitle>\n                <Timer>\n                  <TimerBlock>\n                    <TimerBlockNumber>{h}</TimerBlockNumber>\n                    <TimerBlockLabel>\n                      <Pluralize\n                        showCount={false}\n                        count={Number(h)}\n                        singular='hour'\n                      />\n                    </TimerBlockLabel>\n                  </TimerBlock>\n                  <TimerBlock>\n                    <TimerBlockNumber>{m}</TimerBlockNumber>\n                    <TimerBlockLabel>\n                      <Pluralize\n                        showCount={false}\n                        count={Number(m)}\n                        singular='minute'\n                      />\n                    </TimerBlockLabel>\n                  </TimerBlock>\n                  <TimerBlock>\n                    <TimerBlockNumber>{s}</TimerBlockNumber>\n                    <TimerBlockLabel>\n                      <Pluralize\n                        showCount={false}\n                        count={Number(s)}\n                        singular='second'\n                      />\n                    </TimerBlockLabel>\n                  </TimerBlock>\n                </Timer>\n              </LivestreamCountdownInner>\n              <LivestreamCountdownIllu />\n            </LivestreamCountdown>\n          ) : (\n            <LivestreamCountdown>\n              <LivestreamCountdownInner>\n                <VarHeading as='h2' size='medium'>\n                  SatSummit 2022 has ended\n                </VarHeading>\n                <p>Thank you all for join us virtually!</p>\n              </LivestreamCountdownInner>\n              <LivestreamCountdownIllu />\n            </LivestreamCountdown>\n          )}\n        </LivestreamBlock>\n        <BlockAlpha>\n          <VarProse dangerouslySetInnerHTML={{ __html: talks.parent.html }} />\n        </BlockAlpha>\n      </PageMainContent>\n    </Layout>\n  );\n};\n\nexport default LivestreamPage;\n","import styled from 'styled-components';\n\nimport { VarProse } from './variable-components';\nimport { variableGlsp } from './variable-utils';\n\nimport { media } from '@devseed-ui/theme-provider';\n\nimport Hug from './hug';\n\nexport const BlockAlpha = styled(Hug).attrs({\n  as: 'div'\n})`\n  padding: ${variableGlsp(2, 0)};\n\n  ${VarProse} {\n    grid-column: content-start / content-end;\n\n    ${media.mediumUp`\n      grid-column: content-2 / content-8;\n    `}\n\n    ${media.largeUp`\n      grid-column: content-2 / content-12;\n    `}\n\n    ${media.xlargeUp`\n      grid-column: content-3 / content-11;\n    `}\n  }\n`;\n"],"names":["Pluralize","props","singular","plural","count","showCount","zero","output","pluralize","propTypes","T","className","style","defaultProps","LivestreamBlock","styled","multiply","themeVal","LivestreamCountdown","variableGlsp","LivestreamCountdownInner","LivestreamCountdownTitle","VarHeading","attrs","as","size","media","LivestreamCountdownIllu","CollecticonCirclePlay","Timer","TimerBlock","TimerBlockNumber","TimerBlockLabel","VarProse","talks","useStaticQuery","isLive","nextIn","useLive","h","m","s","time2Counter","title","src","allow","allowFullScreen","Number","dangerouslySetInnerHTML","__html","parent","html","BlockAlpha","Hug"],"sourceRoot":""}